# 해시 메시지 만들며 해시함수의 특성 알아보기

비트코인 블록체인을 이루는 근간 중 하나로 ‘해시함수’를 들 수 있다. 해시함수의 독특한 특성 덕에 2009년 탄생한 비트코인은 지금까지 15년 간 단 하나의 오류 없이 거래를 검증하고 있으며 그 방대한 거래 내역을 압축하여 블록에 간단한 암호문으로 저장할 수 있게 되었다.

참고 영상) [블롭: 비트코인 암호기술](https://www.youtube.com/watch?v=tgH04DYmhn0)

여러분이 비트코인 채굴자가 되어, 직접 해시 메시지를 만들어보자. 그리고 블록 생성 과정에서의 쓰임새를 살펴보자.

## 해시 값을 도출하며 해시 함수의 특성 알아보기

실습 사이트: [앤더스 브라운워스, Blockchain Demo](https://andersbrownworth.com/blockchain/hash), **[Hash]** 대시보드

여러 종류의 해시 함수가 있다. 오늘은 실제 비트코인 블록체인에서 사용되는 SHA-256 함수에 집중해 보겠다.

![슬라이드1.PNG](%E1%84%92%E1%85%A2%E1%84%89%E1%85%B5%20%E1%84%86%E1%85%A6%E1%84%89%E1%85%B5%E1%84%8C%E1%85%B5%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%86%E1%85%A7%20%E1%84%92%E1%85%A2%E1%84%89%E1%85%B5%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%E1%84%8B%E1%85%B4%20%E1%84%90%E1%85%B3%E1%86%A8%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%87%E1%85%A9%E1%84%80%E1%85%B5%2095b1adea7af844aa8b7343acf94513f2/%25EC%258A%25AC%25EB%259D%25BC%25EC%259D%25B4%25EB%2593%259C1.png)

“Data”라 쓰여진 우측 입력 란에는 input(입력 값)이 주어지고, Hash 값은 결과 값이 출력됨을 알 수 있다. 

### 특성 1) 결과 값으로부터 입력 값을 유추하기 (거의) 불가능하다.

Hash 함수는 비가역성을 가진다. 즉 입력 값과 결과 값 간의 관계에 일정한 규칙이 없어 결과값만 보고 역으로 입력 값을 유추하기란 거의 불가능하다. 

### 특성 2) Hash 함수 값(결과 값)의 길이는 항상 일정하다.

Data 창에 어떤 값을 대입하더라도, Hash 값의 길이는 64자로 동일하다. 각 자리 수가 16진수(1자리 수당 4bit)로 이루어져 있으므로, SHA-256 해시 함수는 256bit의 일정한 결과 값을 도출다.

### 특성 3) 입력 값이 동일하면 언제 어디서나 동일한 결과 값을 얻는다.

Data 입력 란에 아무런 글자나 입력했다가, 다시 원복 시켜보라. 이전 입력값에 대한 해시값이 그대로 나타날 것이다. 이로 부 입력 값이 동일하면 언제나 같은 결과 값이 도출 됨을 알 수 있을 것이다.

## 사례를 통한 해시 값의 특성 재 확인하기

예시) ‘로드 투 글로벌’을 입력 값으로 하는 경우 

해시 값: e2137e618f533c3485d65c1aa778798d51caa4b875b9ab0ad722a2a75eb71974이 도출됨을 알 수 있다.

![슬라이드2.PNG](%E1%84%92%E1%85%A2%E1%84%89%E1%85%B5%20%E1%84%86%E1%85%A6%E1%84%89%E1%85%B5%E1%84%8C%E1%85%B5%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%86%E1%85%A7%20%E1%84%92%E1%85%A2%E1%84%89%E1%85%B5%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%E1%84%8B%E1%85%B4%20%E1%84%90%E1%85%B3%E1%86%A8%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%87%E1%85%A9%E1%84%80%E1%85%B5%2095b1adea7af844aa8b7343acf94513f2/%25EC%258A%25AC%25EB%259D%25BC%25EC%259D%25B4%25EB%2593%259C2.png)

여기에 느낌표(!) 하나만 추가를 하여 입력 값을 살짝 바꾸면, 완전히 다른 해시 값:

006c0b904d384d5381937e49b28c7b292bb4523d4c72dd3529a7ebea701c1e84이 결과값으로 주어진다.

![슬라이드3.PNG](%E1%84%92%E1%85%A2%E1%84%89%E1%85%B5%20%E1%84%86%E1%85%A6%E1%84%89%E1%85%B5%E1%84%8C%E1%85%B5%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%86%E1%85%A7%20%E1%84%92%E1%85%A2%E1%84%89%E1%85%B5%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%E1%84%8B%E1%85%B4%20%E1%84%90%E1%85%B3%E1%86%A8%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%87%E1%85%A9%E1%84%80%E1%85%B5%2095b1adea7af844aa8b7343acf94513f2/%25EC%258A%25AC%25EB%259D%25BC%25EC%259D%25B4%25EB%2593%259C3.png)

여기서 다시 느낌표(!)를 제거하면, 원래의 해시 값e2137e618f533c3485d65c1aa778798d51caa4b875b9ab0ad722a2a75eb71974이 도출된다. 이는 언제 어디서 누가 하든 입력값이 동일할 경우 언제나 동일한 해시 값이 주어지며 모든 결과 값은 전부 16진수로 이루어진 64자리의 256bit임을 알 수 있다.